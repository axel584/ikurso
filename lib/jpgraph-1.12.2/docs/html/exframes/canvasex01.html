<code><font color="#000000">
<font color="#0000CC">&lt;?php<br /></font><font color="#FF9900">// $Id: canvasex01.php,v 1.3 2002/10/23 08:17:23 aditus Exp $<br /></font><font color="#006600">include </font><font color="#CC0000">"../jpgraph.php"</font><font color="#006600">;<br />include </font><font color="#CC0000">"../jpgraph_canvas.php"</font><font color="#006600">;<br /><br /></font><font color="#FF9900">// Setup a basic canvas we can work <br /></font><font color="#0000CC">$g </font><font color="#006600">= new </font><font color="#0000CC">CanvasGraph</font><font color="#006600">(</font><font color="#0000CC">400</font><font color="#006600">,</font><font color="#0000CC">300</font><font color="#006600">,</font><font color="#CC0000">'auto'</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">SetMargin</font><font color="#006600">(</font><font color="#0000CC">5</font><font color="#006600">,</font><font color="#0000CC">11</font><font color="#006600">,</font><font color="#0000CC">6</font><font color="#006600">,</font><font color="#0000CC">11</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">SetShadow</font><font color="#006600">();<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">SetMarginColor</font><font color="#006600">(</font><font color="#CC0000">"teal"</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// We need to stroke the plotarea and margin before we add the<br />// text since we otherwise would overwrite the text.<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">InitFrame</font><font color="#006600">();<br /><br /></font><font color="#FF9900">// Draw a text box in the middle<br /></font><font color="#0000CC">$txt</font><font color="#006600">=</font><font color="#CC0000">"This\nis\na TEXT!!!"</font><font color="#006600">;<br /></font><font color="#0000CC">$t </font><font color="#006600">= new </font><font color="#0000CC">Text</font><font color="#006600">(</font><font color="#0000CC">$txt</font><font color="#006600">,</font><font color="#0000CC">200</font><font color="#006600">,</font><font color="#0000CC">10</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFont</font><font color="#006600">(</font><font color="#0000CC">FF_ARIAL</font><font color="#006600">,</font><font color="#0000CC">FS_BOLD</font><font color="#006600">,</font><font color="#0000CC">40</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// How should the text box interpret the coordinates?<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Align</font><font color="#006600">(</font><font color="#CC0000">'center'</font><font color="#006600">,</font><font color="#CC0000">'top'</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// How should the paragraph be aligned?<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">ParagraphAlign</font><font color="#006600">(</font><font color="#CC0000">'center'</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// Add a box around the text, white fill, black border and gray shadow<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">SetBox</font><font color="#006600">(</font><font color="#CC0000">"white"</font><font color="#006600">,</font><font color="#CC0000">"black"</font><font color="#006600">,</font><font color="#CC0000">"gray"</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// Stroke the text<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// Stroke the graph<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">();<br /><br /></font><font color="#0000CC">?&gt;<br /></font><br /></font>
</code>