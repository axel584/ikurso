<code><font color="#000000">
<font color="#0000CC">&lt;?php<br /></font><font color="#FF9900">// $Id: canvasex05.php,v 1.1 2002/08/27 20:08:57 aditus Exp $<br /></font><font color="#006600">include </font><font color="#CC0000">"../jpgraph.php"</font><font color="#006600">;<br />include </font><font color="#CC0000">"../jpgraph_canvas.php"</font><font color="#006600">;<br />include </font><font color="#CC0000">"../jpgraph_canvtools.php"</font><font color="#006600">;<br /><br /></font><font color="#FF9900">// Define work space<br /></font><font color="#0000CC">$xmax</font><font color="#006600">=</font><font color="#0000CC">40</font><font color="#006600">;<br /></font><font color="#0000CC">$ymax</font><font color="#006600">=</font><font color="#0000CC">40</font><font color="#006600">;<br /><br /></font><font color="#FF9900">// Setup a basic canvas we can work <br /></font><font color="#0000CC">$g </font><font color="#006600">= new </font><font color="#0000CC">CanvasGraph</font><font color="#006600">(</font><font color="#0000CC">400</font><font color="#006600">,</font><font color="#0000CC">200</font><font color="#006600">,</font><font color="#CC0000">'auto'</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">SetMargin</font><font color="#006600">(</font><font color="#0000CC">5</font><font color="#006600">,</font><font color="#0000CC">11</font><font color="#006600">,</font><font color="#0000CC">6</font><font color="#006600">,</font><font color="#0000CC">11</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">SetShadow</font><font color="#006600">();<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">SetMarginColor</font><font color="#006600">(</font><font color="#CC0000">"teal"</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// We need to stroke the plotarea and margin before we add the<br />// text since we otherwise would overwrite the text.<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">InitFrame</font><font color="#006600">();<br /><br /></font><font color="#FF9900">// Create a new scale<br /></font><font color="#0000CC">$scale </font><font color="#006600">= new </font><font color="#0000CC">CanvasScale</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">);<br /></font><font color="#0000CC">$scale</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#0000CC">0</font><font color="#006600">,</font><font color="#0000CC">$xmax</font><font color="#006600">,</font><font color="#0000CC">0</font><font color="#006600">,</font><font color="#0000CC">$ymax</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// The shape class is wrapper around the Imgae class which translates<br />// the coordinates for us<br /></font><font color="#0000CC">$shape </font><font color="#006600">= new </font><font color="#0000CC">Shape</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">SetColor</font><font color="#006600">(</font><font color="#CC0000">'black'</font><font color="#006600">);<br /><br /><br /></font><font color="#FF9900">// Add a black line<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">SetColor</font><font color="#006600">(</font><font color="#CC0000">'black'</font><font color="#006600">);<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">Line</font><font color="#006600">(</font><font color="#0000CC">0</font><font color="#006600">,</font><font color="#0000CC">0</font><font color="#006600">,</font><font color="#0000CC">20</font><font color="#006600">,</font><font color="#0000CC">20</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// .. and a circle (x,y,diameter)<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">Circle</font><font color="#006600">(</font><font color="#0000CC">5</font><font color="#006600">,</font><font color="#0000CC">14</font><font color="#006600">,</font><font color="#0000CC">2</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// .. and a filled circle (x,y,diameter)<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">SetColor</font><font color="#006600">(</font><font color="#CC0000">'red'</font><font color="#006600">);<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">FilledCircle</font><font color="#006600">(</font><font color="#0000CC">11</font><font color="#006600">,</font><font color="#0000CC">8</font><font color="#006600">,</font><font color="#0000CC">3</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// .. add a rectangle<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">SetColor</font><font color="#006600">(</font><font color="#CC0000">'green'</font><font color="#006600">);<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">FilledRectangle</font><font color="#006600">(</font><font color="#0000CC">15</font><font color="#006600">,</font><font color="#0000CC">8</font><font color="#006600">,</font><font color="#0000CC">19</font><font color="#006600">,</font><font color="#0000CC">14</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// .. add a filled rounded rectangle<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">SetColor</font><font color="#006600">(</font><font color="#CC0000">'green'</font><font color="#006600">);<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">FilledRoundedRectangle</font><font color="#006600">(</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">3</font><font color="#006600">,</font><font color="#0000CC">8</font><font color="#006600">,</font><font color="#0000CC">6</font><font color="#006600">);<br /></font><font color="#FF9900">// .. with a darker border<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">SetColor</font><font color="#006600">(</font><font color="#CC0000">'darkgreen'</font><font color="#006600">);<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">RoundedRectangle</font><font color="#006600">(</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">3</font><font color="#006600">,</font><font color="#0000CC">8</font><font color="#006600">,</font><font color="#0000CC">6</font><font color="#006600">);<br /><br /><br /></font><font color="#FF9900">// Stroke the graph<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">();<br /><br /></font><font color="#0000CC">?&gt;<br /></font><br /></font>
</code>